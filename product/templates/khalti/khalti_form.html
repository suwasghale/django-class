{% extends "layout.html" %}

{% block content %}
<div class="container mt-5 px-6 sm:px-12">
    <h2 class="mb-4 text-4xl font-bold text-red-700">Order Summary & Pay with Khalti</h2>

    <div class="card shadow p-4">
        <h5 class="font-bold text-xl underline mb-4">Order Details</h5>
        <p><strong>Order ID:</strong> {{ order.id }}</p>
        <p><strong>Total Amount:</strong> Rs. {{ total_price }}</p>
        <p><strong>Customer:</strong> {{ request.user.get_full_name|default:request.user.username }}</p>
        <p><strong>Email:</strong> {{ order.email }}</p>
        <p><strong>Phone:</strong> {{ order.contact_number }}</p>
        <p><strong>Shipping Address:</strong> {{ order.address }}</p>

        <h5 class="font-bold mt-4 underline">Products</h5>
        <ul>
            {% for item in order.items.all %}
                <li>{{ item.product.product_name }} Ã— {{ item.quantity }} - Rs. {{ item.price }}</li>
            {% endfor %}
        </ul>

<button
  onclick="window.location.href='{{ payment_url }}'"
  type="button"
  class="flex items-center bg-red-500 text-white gap-1 px-4 py-2 cursor-pointer text-gray-800 font-semibold tracking-widest rounded-md hover:bg-red-400 duration-300 hover:gap-2 hover:translate-x-3"
>
  Pay with Khalti
  <svg
    class="w-5 h-5"
    stroke="currentColor"
    stroke-width="1.5"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"
      stroke-linejoin="round"
      stroke-linecap="round"
    ></path>
  </svg>
</button>



    </div>
</div>
{% endblock %}
